<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cart | ELVT.</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
<style>
html, body { height: 100%; margin: 0; }
body { display: flex; flex-direction: column; font-family: 'Poppins', sans-serif; background: #0a0a0a; color: #f5f5f5; scroll-behavior: smooth; }

/* Navbar base */
nav {
    position:fixed;
    top:0;
    width:100%;
    background:rgba(0,0,0,0.85);
    padding:1em 1.5em;
    z-index:100;
    backdrop-filter:blur(8px);
}

.nav-inner {
    display:flex;
    align-items:center;
    justify-content:center; /* desktop centered */
    max-width:1200px;
    margin:0 auto;
}

nav ul {
    display:flex;
    justify-content:center;
    align-items:center;
    gap:2em;
    list-style:none;
    margin:0;
    padding:0;
}

nav li { display:inline-block; }
nav a { color:#f5f5f5; font-weight:400; letter-spacing:1px; transition:color 0.3s; }
nav a:hover { color:#ff6347; }

.menu-toggle {
    display:none;
    font-size:1.8em;
    cursor:pointer;
    user-select:none;
}

/* Mobile responsive */
@media (max-width:768px) {
    .menu-toggle {
        display:block;
    }

    .nav-inner {
        justify-content:space-between; /* mobile layout */
    }

    nav ul {
        position:absolute;
        top:100%;
        left:0;
        width:100%;
        background:#000;
        flex-direction:column;
        align-items:center;
        gap:1.5em;
        padding:1.5em 0;
        display:none;
    }

    nav ul.active {
        display:flex;
    }
}
nav a {
    text-decoration: none;  /* remove underline */
    color: #f5f5f5;
}



.cart-container { flex: 1; max-width: 900px; margin: 0 auto; padding: 120px 20px 60px 20px; }
h1 { font-family:'Playfair Display', serif; font-size:2.5em; font-weight:700; margin-bottom:30px; text-align:center; }

.cart-item { display:flex; gap:20px; align-items:center; padding:20px 0; border-bottom:1px solid #333; }
.cart-item img { width:90px; border-radius:8px; }
.cart-details { flex:1; }
.cart-details h3 { font-weight:500; margin-bottom:5px; }
.cart-details p { font-size:14px; opacity:.8; }
.cart-actions { text-align:right; }
.remove-btn { background:#b00000; color:#fff; border:none; padding:8px 14px; cursor:pointer; border-radius:4px; transition:0.3s; }
.remove-btn:hover { background:#ff3b3b; }

.total { text-align:right; font-size:22px; margin-top:30px; }

#order-form { display:flex; flex-direction:column; gap:1em; max-width:400px; margin:2em auto; }
#order-form input, #order-form textarea { padding:0.8em; background:#1a1a1a; color:#fff; border:1px solid #333; border-radius:5px; transition:0.3s; }
#order-form input:focus, #order-form textarea:focus { border-color:#ff6347; box-shadow:0 0 8px rgba(255,99,71,0.5); outline:none; }
#order-form button { padding:1em; border:none; background:#ff6347; color:white; cursor:pointer; font-weight:500; transition: transform 0.3s; }
#order-form button:hover { transform:scale(1.05); }

.success-message { display:none; color:#ff6347; margin-top:0.5em; font-weight:500; opacity:0; transition:opacity 0.5s ease-in-out; text-align:center; font-size:1.1em; }
.success-message.show { display:block; opacity:1; }

.empty { text-align:center; opacity:.6; margin-top:60px; font-size:1.2em; }

footer { text-align:center; padding:2em; background:#000; color:#888; font-size:0.9em; }
footer .social-icons { display:flex; justify-content:center; gap:1em; margin-bottom:1em; }
footer .social-icons a svg { width:24px; height:24px; fill:#fff; transition: transform 0.3s, fill 0.3s; }
footer .social-icons a:hover svg { transform:scale(1.2); fill:#ff6347; }

@media(max-width:768px) {
    nav ul { justify-content:flex-start; gap:1.5em; padding:0 1em; overflow-x:auto; white-space:nowrap; }
    .cart-item { flex-direction:column; align-items:flex-start; }
    .cart-actions { width:100%; text-align:left; margin-top:10px; }
}
</style>
</head>
<body>

<!-- Navbar -->
<nav>
  <div class="nav-inner">
    <div class="menu-toggle" id="menuToggle">☰</div>

    <ul id="navMenu">
      <li><a href="index.html#hero">Home</a></li>
      <li><a href="index.html#about">Philosophy</a></li>
      <li><a href="merch.html#merch">Merch</a></li>
      <li><a href="index.html#gallery">Collection</a></li>
      <li><a href="index.html#shop">Shop</a></li>
      <li><a href="index.html#contact">Contact</a></li>
      <li><a href="cart.html">Cart</a></li>
    </ul>
  </div>
</nav>


<!-- Cart Section -->
<div class="cart-container">
    <h1>Your Cart</h1>
    <div id="cart-items"></div>
    <div class="total" id="cart-total"></div>

    <!-- Order Form -->
    <form id="order-form" action="https://formspree.io/f/xzzyzval" method="POST">
        <input type="text" name="name" placeholder="Your Name" required>
        <input type="tel" name="phone" placeholder="Your Phone Number" required>
        <input type="email" name="email" placeholder="Your Email (optional)">
        <input type="text" name="address" placeholder="Street Address" required>
        <input type="text" name="city" placeholder="City" required>
        <input type="text" name="zip" placeholder="ZIP / Postal Code" required>
        <input type="text" name="country" placeholder="Country" required>
        <textarea name="notes" placeholder="Additional notes or instructions"></textarea>
        <input type="hidden" name="_subject" value="New ELVT Order">
        <input type="hidden" name="_replyto" value="elvtbyadam@outlook.com">
        <input type="hidden" name="cartDetails" id="cartDetails">
        <button type="submit">Send Order</button>
    </form>

    <!-- Success Message (outside form so it stays visible) -->
    <p id="order-success" class="success-message">Your order was sent successfully! We will contact you shortly. Thank you!</p>
</div>

<!-- Footer -->
<footer>
    <div class="social-icons">
        <a href="https://www.instagram.com/elvt.by.adam/" target="_blank" aria-label="Instagram" rel="noopener noreferrer">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.17.056 1.97.24 2.432.403a4.92 4.92 0 0 1 1.773 1.024 4.92 4.92 0 0 1 1.024 1.774c.164.462.347 1.262.403 2.432.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.056 1.17-.24 1.97-.403 2.432a4.92 4.92 0 0 1-1.024 1.773 4.92 4.92 0 0 1-1.774 1.024c-.462.164-1.262.347-2.432.403-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.17-.056-1.97-.24-2.432-.403a4.92 4.92 0 0 1-1.773-1.024 4.92 4.92 0 0 1-1.024-1.774c-.164-.462-.347-1.262-.403-2.432C2.175 15.747 2.163 15.367 2.163 12s.012-3.584.07-4.85c.056-1.17.24-1.97.403-2.432a4.92 4.92 0 0 1 1.024-1.773 4.92 4.92 0 0 1 1.774-1.024c.462-.164 1.262-.347 2.432-.403C8.416 2.175 8.796 2.163 12 2.163zm0-2.163C8.736 0 8.332.012 7.052.07 5.773.127 4.818.34 4.065.63a6.92 6.92 0 0 0-2.5 1.605A6.92 6.92 0 0 0 .63 4.065c-.29.753-.503 1.708-.56 2.987C0 8.332 0 8.736 0 12s.012 3.668.07 4.948c.057 1.279.27 2.234.56 2.987a6.92 6.92 0 0 0 1.605 2.5 6.92 6.92 0 0 0 2.5 1.605c.753.29 1.708.503 2.987.56C8.332 24 8.736 24 12 24s3.668-.012 4.948-.07c1.279-.057 2.234-.27 2.987-.56a6.92 6.92 0 0 0 2.5-1.605 6.92 6.92 0 0 0 1.605-2.5c.29-.753.503-1.708.56-2.987.058-1.28.07-1.684.07-4.948s-.012-3.668-.07-4.948c-.057-1.279-.27-2.234-.56-2.987a6.92 6.92 0 0 0-1.605-2.5 6.92 6.92 0 0 0-2.5-1.605c-.753-.29-1.708-.503-2.987-.56C15.668.012 15.264 0 12 0z"/>
                <path d="M12 5.838a6.162 6.162 0 1 0 0 12.324 6.162 6.162 0 0 0 0-12.324zm0 10.162a3.999 3.999 0 1 1 0-7.998 3.999 3.999 0 0 1 0 7.998z"/>
                <circle cx="18.406" cy="5.594" r="1.44"/>
            </svg>
        </a>
    </div>
    <p>© 2025 ELVT. by Adam Hamed. All rights reserved.</p>
</footer>

<script>
let cart = JSON.parse(localStorage.getItem('cart')) || [];
const cartItems = document.getElementById('cart-items');
const cartTotal = document.getElementById('cart-total');

function renderCart() {
    cartItems.innerHTML = "";
    let total = 0;

    if(cart.length === 0){
        cartItems.innerHTML = `<p class="empty">Your cart is empty</p>`;
        cartTotal.style.display = "none";
        document.querySelector('#order-form button').style.display = "none";
        return;
    }

    cart.forEach((item, index) => {
        total += item.price * item.qty;
        cartItems.innerHTML += `
            <div class="cart-item">
                <img src="${item.image}" alt="${item.name}">
                <div class="cart-details">
                    <h3>${item.name}</h3>
                    <p>Size: ${item.size}</p>
                    <p>Qty: ${item.qty}</p>
                    <p>$${(item.price * item.qty).toFixed(2)}</p>
                </div>
                <div class="cart-actions">
                    <button class="remove-btn" onclick="removeItem(${index})">Remove</button>
                </div>
            </div>
        `;
    });

    cartTotal.style.display = "block";
    cartTotal.innerHTML = `Total: $${total.toFixed(2)}`;
}

function removeItem(index){
    cart.splice(index,1);
    localStorage.setItem('cart', JSON.stringify(cart));
    renderCart();
}

renderCart();

const form = document.getElementById('order-form');
const successMsg = document.getElementById('order-success');
const cartDetailsInput = document.getElementById('cartDetails');

form.addEventListener('submit', function(event){
    event.preventDefault();

    if(cart.length === 0){
        alert('Your cart is empty.');
        return;
    }

    let cartText = cart.map(item => 
        `${item.name} | Size: ${item.size} | Qty: ${item.qty} | $${(item.price*item.qty).toFixed(2)}`
    ).join("\n");

    cartDetailsInput.value = cartText;

    const formData = new FormData(form);

    fetch(form.action, {
        method: form.method,
        body: formData,
        headers: { 'Accept': 'application/json' }
    })
    .then(response => {
        if(response.ok){
            successMsg.classList.add('show'); // show success message
            cart = []; // clear in-memory cart
            localStorage.removeItem('cart'); // clear storage
            renderCart(); // update cart display
            form.style.display = 'none'; // hide form
        } else {
            alert('Error sending order.');
        }
    })
    .catch(error => {
        alert('Error sending order: ' + error);
    });
});
</script>

<script>
const menuToggle = document.getElementById('menuToggle');
const navMenu = document.getElementById('navMenu');

menuToggle.addEventListener('click', () => {
    navMenu.classList.toggle('active');
});
</script>


</body>
</html>
